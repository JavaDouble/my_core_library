# log4j\u914d\u7f6e\u6587\u4ef6 \u4e09\u5927\u90e8\u5206\uff1a\u65e5\u5fd7\u5bf9\u8c61\uff08logger\uff09\u3001\u8f93\u51fa\u4f4d\u7f6e\uff08appender\uff09\u548c\u8f93\u51fa\u6837\u5f0f\uff08layout\uff09

# \u8981\u8f93\u51fa\u65e5\u5fd7\uff0c\u9996\u5148\u5f97\u6709\u65e5\u5fd7\u5bf9\u8c61\uff08logger\uff09\uff0c\u90a3\u8fd9\u4e9b\u65e5\u5fd7\u5bf9\u8c61\u628a\u65e5\u5fd7\u8f93\u51fa\u5230\u54ea\u91cc\u5462\uff0c\u63a7\u5236\u53f0\u8fd8\u662f\u6587\u4ef6\uff0c
# \u8fd9\u5c31\u8981\u8bbe\u7f6e\u8f93\u51fa\u4f4d\u7f6e\uff08appender\uff09\uff0c\u8f93\u51fa\u7684\u683c\u5f0f\u4e0e\u5185\u5bb9\u53c8\u662f\u4ec0\u4e48\u6837\u7684\u5462\uff0c\u8fd9\u5c31\u8981\u8bbe\u7f6e\u8f93\u51fa\u6837\u5f0f\uff08layout\uff09\uff0c
# \u8fd9\u4e9b\u8bbe\u7f6e\u5b8c\uff0clog4j\u7684\u914d\u7f6e\u4e5f\u5c31\u5b8c\u4e86

# 1.\u65e5\u5fd7\u5bf9\u8c61\uff08logger\uff09
# rootLogger \u901a\u8fc7\u6839\u5143\u7d20\u5236\u5b9a\u65e5\u5fd7\u8f93\u51fa\u7684\u7ea7\u522b\u548c\u76ee\u7684\u5730	\u65e5\u5fd7\u5b9e\u4f8b\uff0c\u5c31\u662f\u4ee3\u7801\u91cc\u5b9e\u4f8b\u5316\u7684Logger\u5bf9\u8c61
# log4j.rootLogger=LEVEL,appenderName1,appenderName2,...
# log4j.additivity.org.apache=false\uff1a\u8868\u793a\u4e0d\u4f1a\u5728\u7236logger\u7684appender\u91cc\u8f93\u51fa\uff0c\u9ed8\u8ba4true
# \u8fd9\u662f\u5168\u5c40logger\u7684\u914d\u7f6e\uff0cLEVEL\u7528\u6765\u8bbe\u5b9a\u65e5\u5fd7\u7b49\u7ea7\uff0cappenderName\u5b9a\u4e49\u65e5\u5fd7\u8f93\u51fa\u5668\uff0c\u201cconsole\u201d\u5c31\u662f\u4e00\u4e2a\u65e5\u5fd7\u8f93\u51fa\u5668

#--\u65e5\u5fd7\u8f93\u51fa\u4f18\u5148\u7ea7\uff1aoff > fatal > error > warn > info > debug > all
log4j.rootLogger =debug,console,file
log4j.additivity.org.apache=true

# 2.\u8f93\u51fa\u4f4d\u7f6e\uff08appender\uff09	appender\u67095\u79cd\u9009\u62e9\uff1a
# 1).org.apache.log4j.ConsoleAppender\uff08\u63a7\u5236\u53f0\uff09
# 2).org.apache.log4j.FileAppender\uff08\u6587\u4ef6\uff09
# 3).org.apache.log4j.DailyRollingFileAppender\uff08\u6bcf\u5929\u4ea7\u751f\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\uff09
# 4).org.apache.log4j.RollingFileAppender\uff08\u6587\u4ef6\u5927\u5c0f\u5230\u8fbe\u6307\u5b9a\u5c3a\u5bf8\u7684\u65f6\u5019\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\uff09
# 5).org.apache.log4j.WriterAppender\uff08\u5c06\u65e5\u5fd7\u4fe1\u606f\u4ee5\u6d41\u683c\u5f0f\u53d1\u9001\u5230\u4efb\u610f\u6307\u5b9a\u7684\u5730\u65b9\uff09


# 2.1 \u63a7\u5236\u53f0\u8f93\u51fa\uff1aConsoleAppender\uff08\u5e38\u7528\uff09\u65e5\u5fd7\u8f93\u51fa\u5230\u63a7\u5236\u53f0\u7684api\u7c7b\uff0c\u4f7f\u7528\u5168\u9650\u7c7b\u540d\u3002
# Threshold=WARN\uff1a\u6307\u5b9a\u65e5\u5fd7\u4fe1\u606f\u7684\u6700\u4f4e\u8f93\u51fa\u7ea7\u522b\uff0c\u9ed8\u8ba4DEBUG
# ImmediateFlush=true\uff1a\u8868\u793a\u6240\u6709\u6d88\u606f\u90fd\u4f1a\u88ab\u7acb\u5373\u8f93\u51fa\uff0c\u8bbe\u4e3afalse\u5219\u4e0d\u8f93\u51fa\uff0c\u9ed8\u8ba4\u503c\u662ftrue
# Target=System.err\uff1a\u9ed8\u8ba4\u503c\u662fSystem.out
log4j.appender.console=org.apache.log4j.ConsoleAppender
# \u8bbe\u7f6e\u63a7\u5236\u53f0\u5b57\u7b26\u96c6
log4j.appender.console.Encoding=utf-8
# \u8bbe\u7f6e
log4j.appender.console.Target=System.out
#3. \u8bbe\u7f6e\u63a7\u5236\u53f0\u8f93\u51fa\u683c\u5f0f\uff1aPatternLayout\u8bbe\u7f6e\u8f93\u51fa\u683c\u5f0f\u7684api\u7c7b\uff0c\u4f7f\u7528\u5168\u9650\u7c7b\u540d\uff0c\u8fd9\u79cd\u65b9\u5f0f\u6bd4\u8f83\u7075\u6d3b\u3002
log4j.appender.console.layout=org.apache.log4j.PatternLayout
#---\u5177\u4f53\u8f93\u51fa\u683c\u5f0f d:\u65e5\u671f\uff0cp\uff1a\u65e5\u5fd7\u7ea7\u522b\uff0cc.m():\u6743\u9650\u7c7b\u540d.\u65b9\u6cd5()\uff0cm:\u5185\u5bb9\uff0cn:\u6362\u884c\u3002
log4j.appender.console.layout.ConversionPattern=%d %p %c.%M()-%m%n

# DailyRollingFileAppender\uff08\u5e38\u7528\uff09:\u65e5\u5e38\u6eda\u52a8\u6587\u4ef6\u65e5\u5fd7\u8f93\u51fa
# Threshold=WARN\uff1a\u6307\u5b9a\u65e5\u5fd7\u4fe1\u606f\u7684\u6700\u4f4e\u8f93\u51fa\u7ea7\u522b\uff0c\u9ed8\u8ba4DEBUG
# ImmediateFlush=true\uff1a\u8868\u793a\u6240\u6709\u6d88\u606f\u90fd\u4f1a\u88ab\u7acb\u5373\u8f93\u51fa\uff0c\u8bbe\u4e3afalse\u5219\u4e0d\u8f93\u51fa\uff0c\u9ed8\u8ba4true
# Append=false\uff1atrue\u8868\u793a\u6d88\u606f\u589e\u52a0\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d\uff0cfalse\u5219\u5c06\u6d88\u606f\u8986\u76d6\u6307\u5b9a\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u9ed8\u8ba4true
# File=D:/logs/logging.log4j\uff1a\u6307\u5b9a\u5f53\u524d\u6d88\u606f\u8f93\u51fa\u5230logging.log4j\u6587\u4ef6
# DatePattern='.'yyyy-MM\uff1a\u6bcf\u6708\u6eda\u52a8\u4e00\u6b21\u65e5\u5fd7\u6587\u4ef6\uff0c\u5373\u6bcf\u6708\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\u5f53\u524d\u6708\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u4e3alogging.log4j\uff0c\u524d\u4e00\u4e2a\u6708\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u4e3alogging.log4j.yyyy-MM
# \u53e6\u5916\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u6309\u5468\u3001\u5929\u3001\u65f6\u3001\u5206\u7b49\u6765\u6eda\u52a8\u65e5\u5fd7\u6587\u4ef6\uff0c\u5bf9\u5e94\u7684\u683c\u5f0f\u5982\u4e0b\uff1a
# 1)'.'yyyy-MM\uff1a\u6bcf\u6708
# 2)'.'yyyy-ww\uff1a\u6bcf\u5468
# 3)'.'yyyy-MM-dd\uff1a\u6bcf\u5929
# 4)'.'yyyy-MM-dd-a\uff1a\u6bcf\u5929\u4e24\u6b21
# 5)'.'yyyy-MM-dd-HH\uff1a\u6bcf\u5c0f\u65f6
# 6)'.'yyyy-MM-dd-HH-mm\uff1a\u6bcf\u5206\u949f


#\u3000FileAppender
# Threshold=WARN\uff1a\u6307\u5b9a\u65e5\u5fd7\u4fe1\u606f\u7684\u6700\u4f4e\u8f93\u51fa\u7ea7\u522b\uff0c\u9ed8\u8ba4DEBUG
# ImmediateFlush=true\uff1a\u8868\u793a\u6240\u6709\u6d88\u606f\u90fd\u4f1a\u88ab\u7acb\u5373\u8f93\u51fa\uff0c\u8bbe\u4e3afalse\u5219\u4e0d\u8f93\u51fa\uff0c\u9ed8\u8ba4true
# Append=false\uff1atrue\u8868\u793a\u6d88\u606f\u589e\u52a0\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d\uff0cfalse\u5219\u5c06\u6d88\u606f\u8986\u76d6\u6307\u5b9a\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u9ed8\u8ba4true
# File=D:/logs/logging.log4j\uff1a\u6307\u5b9a\u6d88\u606f\u8f93\u51fa\u5230logging.log4j\u6587\u4ef6

# RollingFileAppender
# Threshold=WARN\uff1a\u6307\u5b9a\u65e5\u5fd7\u4fe1\u606f\u7684\u6700\u4f4e\u8f93\u51fa\u7ea7\u522b\uff0c\u9ed8\u8ba4DEBUG
# ImmediateFlush=true\uff1a\u8868\u793a\u6240\u6709\u6d88\u606f\u90fd\u4f1a\u88ab\u7acb\u5373\u8f93\u51fa\uff0c\u8bbe\u4e3afalse\u5219\u4e0d\u8f93\u51fa\uff0c\u9ed8\u8ba4true
# Append=false\uff1atrue\u8868\u793a\u6d88\u606f\u589e\u52a0\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d\uff0cfalse\u5219\u5c06\u6d88\u606f\u8986\u76d6\u6307\u5b9a\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u9ed8\u8ba4true
# File=D:/logs/logging.log4j\uff1a\u6307\u5b9a\u6d88\u606f\u8f93\u51fa\u5230logging.log4j\u6587\u4ef6
# MaxFileSize=100KB\uff1a\u540e\u7f00\u53ef\u4ee5\u662fKB,MB\u6216\u8005GB\u3002\u5728\u65e5\u5fd7\u6587\u4ef6\u5230\u8fbe\u8be5\u5927\u5c0f\u65f6\uff0c\u5c06\u4f1a\u81ea\u52a8\u6eda\u52a8\uff0c\u5373\u5c06\u539f\u6765\u7684\u5185\u5bb9\u79fb\u5230logging.log4j.1\u6587\u4ef6
# MaxBackupIndex=2\uff1a\u6307\u5b9a\u53ef\u4ee5\u4ea7\u751f\u7684\u6eda\u52a8\u6587\u4ef6\u7684\u6700\u5927\u6570\uff0c\u4f8b\u5982\uff0c\u8bbe\u4e3a2\u5219\u53ef\u4ee5\u4ea7\u751flogging.log4j.1\uff0clogging.log4j.2\u4e24\u4e2a\u6eda\u52a8\u6587\u4ef6\u548c\u4e00\u4e2alogging.log4j\u6587\u4ef6

# 2.2 \u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6\u5185\uff0cRollingFileAppender \u6eda\u52a8\u65e5\u5fd7\u6587\u4ef6\u7c7b \u6587\u4ef6\u5927\u5c0f\u8fbe\u5230\u6700\u5927\u5bb9\u91cf\u65f6\uff0c\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u3002
# \u8f93\u51fa\u5230\u6587\u4ef6\u7684api\u7c7b\uff0c\u4f7f\u7528\u5168\u9650\u7c7b\u540d\u3002
log4j.appender.file=org.apache.log4j.RollingFileAppender
# \u6587\u4ef6\u53c2\u6570\uff1a\u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84 \u76f8\u5bf9\u8def\u5f84\u3001\u7edd\u5bf9\u8def\u5f84\u548c\u5b8c\u6574\u8def\u5f84	../logs/test.log\u662f\u5b58\u653e\u5728tomcat\u7684logs\u76ee\u5f55\u4e0b
log4j.appender.file.File=d:/test.log
# log4j.appender.file.File=../logs/test.log
# \u6587\u4ef6\u53c2\u6570\uff1a\u8bbe\u7f6e\u6bcf\u4e2a\u65e5\u5fd7\u6587\u4ef6\u5bb9\u91cf\u7684\u6700\u5927\u503c
log4j.appender.file.MaxFileSize=2KB
# \u6587\u4ef6\u53c2\u6570\uff1a\u8bbe\u7f6e\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u6570\u91cf
log4j.appender.file.MaxBackupIndex=3
# \u8bbe\u7f6e\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6\u7684\u683c\u5f0f
log4j.appender.file.layout=org.apache.log4j.PatternLayout
# \u5177\u4f53\u683c\u5f0f\u8bbe\u7f6e
log4j.appender.file.layout.ConversionPattern=%d %p %c.%M()-%m%n

# 3.layout\uff1a\u6307\u5b9alogger\u8f93\u51fa\u5185\u5bb9\u53ca\u683c\u5f0f
# log4j.appender.appenderName.layout=className
# layout\u67094\u79cd\u9009\u62e9
# org.apache.log4j.HTMLLayout\uff08\u4ee5HTML\u8868\u683c\u5f62\u5f0f\u5e03\u5c40\uff09
# org.apache.log4j.PatternLayout\uff08\u53ef\u4ee5\u7075\u6d3b\u5730\u6307\u5b9a\u5e03\u5c40\u6a21\u5f0f\uff09
# org.apache.log4j.SimpleLayout\uff08\u5305\u542b\u65e5\u5fd7\u4fe1\u606f\u7684\u7ea7\u522b\u548c\u4fe1\u606f\u5b57\u7b26\u4e32\uff09
# org.apache.log4j.TTCCLayout\uff08\u5305\u542b\u65e5\u5fd7\u4ea7\u751f\u7684\u65f6\u95f4\u3001\u7ebf\u7a0b\u3001\u7c7b\u522b\u7b49\u4fe1\u606f\uff09

# 3.1 HTMLLayout
# LocationInfo=true\uff1a\u8f93\u51fajava\u6587\u4ef6\u540d\u79f0\u548c\u884c\u53f7\uff0c\u9ed8\u8ba4false
# Title=My Logging\uff1a \u9ed8\u8ba4\u503c\u662fLog4J Log Messages

# 3.2 PatternLayout\uff08\u6700\u5e38\u7528\u7684\u914d\u7f6e\uff09
# ConversionPattern=%m%n\uff1a\u8bbe\u5b9a\u4ee5\u600e\u6837\u7684\u683c\u5f0f\u663e\u793a\u6d88\u606f
# \u8bbe\u7f6e\u683c\u5f0f\u7684\u53c2\u6570\u8bf4\u660e\u5982\u4e0b
# %p\uff1a\u8f93\u51fa\u65e5\u5fd7\u4fe1\u606f\u7684\u4f18\u5148\u7ea7\uff0c\u5373DEBUG\uff0cINFO\uff0cWARN\uff0cERROR\uff0cFATAL
# %d\uff1a\u8f93\u51fa\u65e5\u5fd7\u65f6\u95f4\u70b9\u7684\u65e5\u671f\u6216\u65f6\u95f4\uff0c\u9ed8\u8ba4\u683c\u5f0f\u4e3aISO8601\uff0c\u53ef\u4ee5\u6307\u5b9a\u683c\u5f0f\u5982\uff1a%d{yyyy/MM/dd HH:mm:ss,SSS}
# %r\uff1a\u8f93\u51fa\u81ea\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5230\u8f93\u51fa\u8be5log\u4fe1\u606f\u8017\u8d39\u7684\u6beb\u79d2\u6570
# %t\uff1a\u8f93\u51fa\u4ea7\u751f\u8be5\u65e5\u5fd7\u4e8b\u4ef6\u7684\u7ebf\u7a0b\u540d
# %l\uff1a\u8f93\u51fa\u65e5\u5fd7\u4e8b\u4ef6\u7684\u53d1\u751f\u4f4d\u7f6e\uff0c\u76f8\u5f53\u4e8e%c.%M(%F:%L)\u7684\u7ec4\u5408\uff0c\u5305\u62ec\u7c7b\u5168\u540d\u3001\u65b9\u6cd5\u3001\u6587\u4ef6\u540d\u4ee5\u53ca\u5728\u4ee3\u7801\u4e2d\u7684\u884c\u6570
# %c\uff1a\u8f93\u51fa\u65e5\u5fd7\u4fe1\u606f\u6240\u5c5e\u7684\u7c7b\u76ee\uff0c\u901a\u5e38\u5c31\u662f\u7c7b\u5168\u540d
# %M\uff1a\u8f93\u51fa\u4ea7\u751f\u65e5\u5fd7\u4fe1\u606f\u7684\u65b9\u6cd5\u540d
# %F\uff1a\u8f93\u51fa\u65e5\u5fd7\u6d88\u606f\u4ea7\u751f\u65f6\u6240\u5728\u7684\u6587\u4ef6\u540d
# %L\uff1a\u8f93\u51fa\u4ee3\u7801\u4e2d\u7684\u884c\u53f7
# %m\uff1a\u8f93\u51fa\u4ee3\u7801\u4e2d\u6307\u5b9a\u7684\u5177\u4f53\u65e5\u5fd7\u4fe1\u606f
# %n\uff1a\u8f93\u51fa\u4e00\u4e2a\u56de\u8f66\u6362\u884c\u7b26\uff0cWindows\u5e73\u53f0\u4e3a"rn"\uff0cUnix\u5e73\u53f0\u4e3a"n"
# %x\uff1a\u8f93\u51fa\u548c\u5f53\u524d\u7ebf\u7a0b\u76f8\u5173\u8054\u7684NDC(\u5d4c\u5957\u8bca\u65ad\u73af\u5883)
# %%\uff1a\u8f93\u51fa\u4e00\u4e2a"%"\u5b57\u7b26